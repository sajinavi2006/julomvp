# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2017-05-24 08:35
from __future__ import unicode_literals

from django.db import migrations, models


def set_init_cashback_late_paid(apps, schema_editor):
    """
    This migration is to mapping datacheck with application field
    for automation and edit field
    """

    Payment = apps.get_model("julo", "Payment")

    payments_paid_amount = Payment.objects.filter(paid_amount=None)
    payments_cashback = Payment.objects.filter(cashback_earned=None)
    payments_late_fee = Payment.objects.filter(late_fee_amount=None)

    for i in payments_paid_amount:
        i.paid_amount = 0
        i.save()

    for j in payments_cashback:
        j.cashback_earned = 0
        j.save()

    for x in payments_late_fee:
        x.late_fee_amount = 0
        x.save()


class Migration(migrations.Migration):

    dependencies = [
        ('julo', '0074_auto_20170524_1226'),
    ]

    operations = [
        migrations.RunPython(
            set_init_cashback_late_paid
        ),
    ]
