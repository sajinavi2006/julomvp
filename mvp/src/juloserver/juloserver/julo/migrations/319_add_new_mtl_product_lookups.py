# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2016-06-24 01:19
from __future__ import unicode_literals

from django.db import migrations


def load_new_product_lookups(apps, schema_editor):
    product_lookups = [

        ('I.600-O.050-L.050-C1.010-C2.010-M', 0.600, 0.050, 0.050, 0, 0.010, True),
        ('I.720-O.050-L.050-C1.010-C2.010-M', 0.720, 0.050, 0.050, 0, 0.010, True),

    ]
    ProductLine = apps.get_model("julo", "ProductLine")
    product_lines = ProductLine.objects.filter(
        product_line_type__in=["MTL1", "MTL2"])

    ProductLookup = apps.get_model("julo", "ProductLookup")
    for product_line in product_lines:
        for pl in product_lookups:
            kwargs = {
                'product_name': pl[0],
                'interest_rate': pl[1],
                'origination_fee_pct': pl[2],
                'late_fee_pct': pl[3],
                'cashback_initial_pct': pl[4],
                'cashback_payment_pct': pl[5],
                'is_active': pl[6],
                'product_line': product_line,
                'eligible_amount': None,
                'eligible_duration': None,
                'product_profile': product_line.product_profile
            }
            product_lookup = ProductLookup(**kwargs)
            product_lookup.save()


class Migration(migrations.Migration):

    dependencies = [
        ('julo', '318_update_max_interest_on_mtl'),
    ]

    operations = [
        migrations.RunPython(load_new_product_lookups),
    ]
