# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2020-01-10 04:50
from django.db import migrations, models, connection
import django.db.models.deletion


def inquiry_id_bigint(apps, schema_editor):
    cursor = connection.cursor()
    cursor.execute("""ALTER TABLE ops.fdc_inquiry ALTER COLUMN fdc_inquiry_id TYPE bigint""")
    cursor.execute("""ALTER TABLE ops.fdc_inquiry_loan ALTER COLUMN fdc_inquiry_loan_id TYPE bigint""")
    cursor.execute("""ALTER SEQUENCE ops.fdc_inquiry_fdc_inquiry_id_seq AS bigint""")
    cursor.execute("""ALTER SEQUENCE ops.fdc_inquiry_loan_fdc_inquiry_loan_id_seq AS bigint""")


class Migration(migrations.Migration):

    dependencies = [
        ('julo', '0588_default_margin_of_error'),
    ]

    operations = [
        migrations.CreateModel(
            name='FDCInquiryRun',
            fields=[
                ('cdate', models.DateTimeField(auto_now_add=True)),
                ('udate', models.DateTimeField(auto_now=True)),
                ('id', models.AutoField(db_column='fdc_inquiry_run_id', primary_key=True)),
            ],
            options={
                'db_table': 'fdc_inquiry_run',
            },
        ),
        migrations.CreateModel(
            name='FDCInquiry',
            fields=[
                ('cdate', models.DateTimeField(auto_now_add=True)),
                ('udate', models.DateTimeField(auto_now=True)),
                ('id', models.AutoField(db_column='fdc_inquiry_id', primary_key=True)),
                ('fdc_inquiry_run', models.ForeignKey(
                    db_column='fdc_inquiry_run_id', on_delete=django.db.models.deletion.DO_NOTHING,
                    to='julo.FDCInquiryRun', blank=True, null=True)),
                ('application', models.ForeignKey(
                    db_column='application_id', on_delete=django.db.models.deletion.DO_NOTHING,
                    to='julo.Application')),
                ('inquiry_reason', models.CharField(blank=True, max_length=150, null=True)),
                ('nik', models.CharField(blank=True, max_length=16, null=True)),
                ('reference_id', models.CharField(blank=True, max_length=100, null=True)),
                ('status', models.CharField(blank=True, max_length=50, null=True)),
                ('error', models.TextField(blank=True, null=True)),
                ('inquiry_status', models.CharField(default="pending", blank=True, max_length=50, null=True)),
            ],
            options={
                'db_table': 'fdc_inquiry',
            },
        ),
        migrations.CreateModel(
            name='FDCInquiryLoan',
            fields=[
                ('cdate', models.DateTimeField(auto_now_add=True)),
                ('udate', models.DateTimeField(auto_now=True)),
                ('id', models.AutoField(db_column='fdc_inquiry_loan_id', primary_key=True)),
                ('fdc_inquiry', models.ForeignKey(
                    db_column='fdc_inquiry_id', on_delete=django.db.models.deletion.DO_NOTHING,
                    to='julo.FDCInquiry')),
                ('dpd_max', models.IntegerField(blank=True, null=True)),
                ('dpd_terakhir', models.IntegerField(blank=True, null=True)),
                ('id_penyelenggara', models.CharField(blank=True, max_length=50, null=True)),
                ('jenis_pengguna', models.CharField(blank=True, max_length=50, null=True)),
                ('kualitas_pinjaman', models.CharField(blank=True, max_length=50, null=True)),
                ('nama_borrower', models.CharField(blank=True, max_length=100, null=True)),
                ('nilai_pendanaan', models.BigIntegerField(blank=True, null=True)),
                ('no_identitas', models.CharField(blank=True, max_length=16, null=True)),
                ('no_npwp', models.CharField(blank=True, max_length=20, null=True)),
                ('sisa_pinjaman_berjalan', models.BigIntegerField(blank=True, null=True)),
                ('status_pinjaman', models.CharField(blank=True, max_length=20, null=True)),
                ('tgl_jatuh_tempo_pinjaman', models.DateField(blank=True, null=True)),
                ('tgl_pelaporan_data', models.DateField(blank=True, null=True)),
                ('tgl_penyaluran_dana', models.DateField(blank=True, null=True)),
                ('tgl_perjanjian_borrower', models.DateField(blank=True, null=True)),
            ],
            options={
                'db_table': 'fdc_inquiry_loan',
            },
        ),
        migrations.RunPython(inquiry_id_bigint),
    ]
