# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2017-05-10 04:21
from __future__ import unicode_literals

from django.db import migrations
from ..product_lines import ProductLines, ProductLineCodes


def load_product_lines(apps, schema_editor):
    product_lines = ProductLines

    ProductLine = apps.get_model("julo", "ProductLine")
    for pl in product_lines:
        if pl.product_line_code > ProductLineCodes.GRAB2:
            continue
        kwargs = {
            'product_line_code': pl.product_line_code,
            'product_line_type': pl.product_line_type,
            'min_amount': pl.min_amount,
            'max_amount': pl.max_amount,
            'min_duration': pl.min_duration,
            'max_duration': pl.max_duration,
            'min_interest_rate': pl.min_interest_rate,
            'max_interest_rate': pl.max_interest_rate,
            'payment_frequency': pl.payment_frequency,
        }
        product_line = ProductLine(**kwargs)
        product_line.save()


class Migration(migrations.Migration):

    dependencies = [
        ('julo', '0064_auto_20170510_1700'),
    ]

    operations = [
        migrations.RunPython(load_product_lines),
    ]
