# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2019-10-02 11:19
from __future__ import unicode_literals

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import juloserver.julo.models


def update_notification_template(apps, schema_editor):
    NotificationTemplate = apps.get_model("julo", "NotificationTemplate")
    rating_app = NotificationTemplate.objects.filter(title="rating app").first()
    if rating_app:
        rating_app.notification_code = 'rating_app'
        rating_app.save()
    rating_app_180 = NotificationTemplate.objects.filter(title="rating app 180").first()
    if rating_app_180:
        rating_app_180.notification_code = 'rating_app_180'
        rating_app_180.save()



class Migration(migrations.Migration):

    dependencies = [
        ('julo', '0565_add_field_notification_template'),
    ]

    operations = [
        migrations.RunPython(update_notification_template, migrations.RunPython.noop)
    ]
