# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2025-03-24 09:45
from __future__ import unicode_literals

import django.contrib.postgres.fields.jsonb
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='MissionConfigTarget',
            fields=[
                ('cdate', models.DateTimeField(auto_now_add=True)),
                ('udate', models.DateTimeField(auto_now=True)),
                ('id', models.AutoField(db_column='mission_config_target_id', primary_key=True, serialize=False)),
            ],
            options={
                'db_table': 'mission_config_target',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='MissionTarget',
            fields=[
                ('cdate', models.DateTimeField(auto_now_add=True)),
                ('udate', models.DateTimeField(auto_now=True)),
                ('id', models.AutoField(db_column='mission_target_id', primary_key=True, serialize=False)),
                ('name', models.CharField(blank=True, max_length=255, null=True)),
                ('category', models.CharField(choices=[('general', 'General'), ('transaction', 'Transaction'), ('referral', 'Referral')], default='general', max_length=255)),
                ('type', models.CharField(choices=[('total_transactions', 'Total Transactions'), ('total_transaction_amount', 'Total Transaction Amount'), ('average_transaction_amount', 'Average Transaction Amount'), ('transaction_frequency', 'Transaction Frequency'), ('referral_count', 'Referral Count')], max_length=255)),
                ('value', models.BigIntegerField()),
            ],
            options={
                'db_table': 'mission_target',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='MissionTargetProgress',
            fields=[
                ('cdate', models.DateTimeField(auto_now_add=True)),
                ('udate', models.DateTimeField(auto_now=True)),
                ('id', models.AutoField(db_column='mission_target_progress_id', primary_key=True, serialize=False)),
                ('category', models.CharField(choices=[('general', 'General'), ('transaction', 'Transaction'), ('referral', 'Referral')], default='general', max_length=255)),
                ('type', models.CharField(choices=[('recurring', 'Recurring'), ('total_transaction_amount', 'Total Transaction Amount')], max_length=255)),
                ('value', models.BigIntegerField()),
                ('mission_progress', models.ForeignKey(db_column='mission_progress_id', on_delete=django.db.models.deletion.DO_NOTHING, to='loyalty.MissionProgress')),
                ('mission_target', models.ForeignKey(db_column='mission_target_id', on_delete=django.db.models.deletion.DO_NOTHING, to='loyalty.MissionTarget')),
            ],
            options={
                'db_table': 'mission_target_progress',
                'managed': False,
            },
        ),
        migrations.AddField(
            model_name='missionconfigtarget',
            name='config',
            field=models.ForeignKey(db_column='mission_config_id', on_delete=django.db.models.deletion.DO_NOTHING, to='loyalty.MissionConfig'),
        ),
        migrations.AddField(
            model_name='missionconfigtarget',
            name='target',
            field=models.ForeignKey(db_column='mission_target_id', on_delete=django.db.models.deletion.DO_NOTHING, to='loyalty.MissionTarget'),
        ),
        migrations.AddField(
            model_name='missionconfig',
            name='targets',
            field=models.ManyToManyField(related_name='mission_configs', through='loyalty.MissionConfigTarget', to='loyalty.MissionTarget'),
        ),
    ]
