# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-09-03 04:37
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.models import FeatureSetting
from juloserver.julo.constants import FeatureNameConst


def add_xfers_failover_feature_setting(apps, schema_editor):
    """
    This is to add failover for grab disbursements.
    This feature when active will retry failed AC disbursements with Xfers.
    """
    FeatureSetting.objects.get_or_create(
        feature_name=FeatureNameConst.GRAB_AYOCONNECT_XFERS_FAILOVER,
        is_active=False,
        parameters=None,
        category='Disbursement',
        description='Failover flag for Grab Ayoconnect. If enabled, '
                    'the AC failed transactions will be retried by xfers'
    )


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_xfers_failover_feature_setting, migrations.RunPython.noop)
    ]
