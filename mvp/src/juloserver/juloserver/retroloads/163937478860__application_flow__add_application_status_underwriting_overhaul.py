# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2021-12-13 05:53
from __future__ import unicode_literals

from django.db import migrations

from juloserver.application_flow.models import ApplicationTag, ApplicationPathTagStatus

tag = 'is_underwriting_overhaul'


def add_is_underwriting_overhaul_to_application_tag(apps, schema_editor):
    if not ApplicationTag.objects.filter(application_tag=tag).exists():
        ApplicationTag.objects.create(
            application_tag=tag,
            is_active=True
        )


def add_status_to_application_path_tag_status(apps, schema_editor):
    tag_statuses = [
        [0, 'fail'],
        [1, 'success'],
    ]

    for tag_status in tag_statuses:
        ApplicationPathTagStatus.objects.create(
            application_tag=tag,
            status=tag_status[0],
            definition=tag_status[1]
        )


class Migration(migrations.Migration):
    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_is_underwriting_overhaul_to_application_tag, migrations.RunPython.noop),
        migrations.RunPython(add_status_to_application_path_tag_status, migrations.RunPython.noop)
    ]
