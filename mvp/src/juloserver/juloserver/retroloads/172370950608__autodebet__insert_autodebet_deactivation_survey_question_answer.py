# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-08-15 08:11
from __future__ import unicode_literals

from django.db import migrations
from django.db import transaction
from juloserver.autodebet.models import (
    AutodebetDeactivationSurveyQuestion,
    AutodebetDeactivationSurveyAnswer,
)


def insert_autodebet_deactivation_question_answer(apps, schema_editor):
    with transaction.atomic(using='repayment_db'):
        question = AutodebetDeactivationSurveyQuestion.objects.create(
            question="Kenapa kamu mau nonaktifkan autodebit?"
        )
        answers = [
            AutodebetDeactivationSurveyAnswer(
                question=question,
                answer="Tidak menggunakan autodebit lagi",
                order=1,
            ),
            AutodebetDeactivationSurveyAnswer(
                question=question,
                answer="Ingin ganti ke autodebit lain",
                order=2,
            ),
        ]
        AutodebetDeactivationSurveyAnswer.objects.bulk_create(answers)


class Migration(migrations.Migration):

    dependencies = []

    operations = [
        migrations.RunPython(
            insert_autodebet_deactivation_question_answer, migrations.RunPython.noop
        )
    ]
