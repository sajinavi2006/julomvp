# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-12-07 08:11
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.constants import FeatureNameConst
from juloserver.julo.models import FeatureSetting
from juloserver.loan.constants import DBRConst


def create_feture_setting_for_dbr(apps, _schema_editor):
    FeatureSetting.objects.create(
        feature_name=FeatureNameConst.DBR_RATIO_CONFIG,
        parameters={
            "whitelist": {
                "is_active": False,
                "list_application_ids": []
            },
            "ratio_percentage": DBRConst.DEFAULT_INCOME_PERCENTAGE,
            "popup_banner": DBRConst.DEFAULT_POPUP_BANNER,
            "product_line_ids": DBRConst.DEFAULT_PRODUCT_LINE_IDS,
        },
        is_active=False,
        category="Loan",
        description="Configuration to set DBR for SEOJK purpose",
    )


class Migration(migrations.Migration):
    dependencies = []

    operations = [
        migrations.RunPython(create_feture_setting_for_dbr, migrations.RunPython.noop),
    ]
