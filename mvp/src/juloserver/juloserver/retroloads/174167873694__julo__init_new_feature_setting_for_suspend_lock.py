# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2025-03-11 07:38
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.constants import FeatureNameConst

from juloserver.julo.models import FeatureSetting


def run(apps, _schema_editor):
    FeatureSetting.objects.create(
        feature_name=FeatureNameConst.SUSPEND_CHANGE_REASON_MAP_PRODUCT_LOCK_CODE,
        parameters={
            'bad_and_good_repeat_rules': '004_A',
            'bad_clcs_delinquent_fdc': '004_B',
            'bad_repeat_tpd40_rules': '004_C',
            'bad_repeat_tpd40_v2_rules': '004_D',
            'bad_repayment_odin': '004_E',
            'bad_repeat_gross_rar': '004_F',
            'ftc_suspension': '004_G',
            'bad_repeat_suspend_lt50': '004_H',
            'recession_company_name': '004_I',
        },
        is_active=True,
        description="suspend_change_reason_map_product_lock_code",
        category='customer suspend'
    )

    feature_setting = FeatureSetting.objects.get_or_none(
        feature_name=FeatureNameConst.PRODUCT_LOCK_IN_APP_BOTTOM_SHEET
    )
    if feature_setting:
        parameters = feature_setting.parameters or {}
        parameters.update({
            '004_I': {
                'title': 'Kamu tidak bisa transaksi sementara',
                'body': 'Kami butuh sedikit pembaruan datamu agar kamu bisa transaksi lagi. Silakan hubungi CS JULO untuk info lebih lanjut, ya.',
                'button': 'Mengerti',
            },
        })
        feature_setting.update_safely(parameters=parameters)

class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(run, migrations.RunPython.noop),
    ]
