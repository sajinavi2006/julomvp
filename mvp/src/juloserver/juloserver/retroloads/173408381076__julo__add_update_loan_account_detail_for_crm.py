# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-12-13 09:56
from __future__ import unicode_literals

from django.db import migrations
from juloserver.account_payment.models import CRMCustomerDetail


def add_unpaid_loan_account_details_for_crm(apps, schema_editor):
    existing_crm_detail = CRMCustomerDetail.objects.filter(
        attribute_name='Unpaid Loan Account Details'
    )
    if not existing_crm_detail.exists():
        CRMCustomerDetail.objects.create(
            section='Detail Pembayaran',
            attribute_name='Unpaid Loan Account Details',
            description="Unpaid Loan Account Details",
            sort_order=15,
            parameter_model_value={
                "dom": {
                    "true": "<button class='label label-success' style='border: none; height: 25px;' "
                    "data-toggle='modal' data-target='#modal-loan-account-detail'>"
                    "<strong>See Detail &gt;</strong></button>",
                    "false": "<strong>-</strong>",
                },
                "models": {"accountpayment": "model.account.julo_one_starter_have_unpaid_loan"},
                "default_value": "-",
                "execution_mode": "only_execute",
            },
        )


class Migration(migrations.Migration):

    dependencies = []

    operations = [
        migrations.RunPython(add_unpaid_loan_account_details_for_crm, migrations.RunPython.noop),
    ]
