# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-10-08 06:46
from __future__ import unicode_literals

from django.db import migrations


def update_julo_core_expiry_marks(apps, schema_editor):
    from juloserver.julo.models import FeatureSetting
    from juloserver.julo.constants import FeatureNameConst

    feature = FeatureSetting.objects.filter(
        feature_name=FeatureNameConst.JULO_CORE_EXPIRY_MARKS
    ).last()
    parameters = feature.parameters

    if "x127_to_x106" not in parameters:
        parameters["x127_to_x106"] = 100

    feature.parameters = parameters
    feature.save()


class Migration(migrations.Migration):

    dependencies = []

    operations = [migrations.RunPython(update_julo_core_expiry_marks, migrations.RunPython.noop)]
