# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-11-07 04:35
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.models import FeatureSetting
from juloserver.minisquad.constants import FeatureNameConst


def update_cohort_campaign_feature_settings(apps, schema_editor):
    fs = FeatureSetting.objects.filter(feature_name=FeatureNameConst.WAIVER_R4_PROMO_BLAST).last()
    parameters = fs.parameters
    parameters.update(
        campaign_automation=dict(
            queue="retrofix_normal",
            csv_headers=[
                "account_id",
                "dpd",
                "dab_lender",
                "principal_waiver",
                "interest_waiver",
                "late_fee_waiver",
                "offer"
            ],
            csv_split_data=5000,
            campaign_name_list=[
                "r4_promo_dpd181_oct_24"
            ],
            time_to_blast_refinancing="08:00",
            email_html='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional //EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html lang="id" xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" style="color-scheme:light dark"><head><meta charset="utf-8"><meta name="x-apple-disable-message-reformatting"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="format-detection" content="telephone=no, date=no, address=no, email=no, url=no"><meta name="color-scheme" content="light dark"><meta name="supported-color-schemes" content="light dark"><style>:root{color-scheme:light dark}.bt-secondary:visited{color:#00acf0}.visited-text-white:visited{color:#fff!important}@media (max-width:600px){.sm-m-auto{margin:auto!important}.sm-block{display:block!important}.sm-table{display:table!important}.sm-hidden{display:none!important}.sm-w-full{width:100%!important}.sm-max-w-5xl{max-width:512px!important}.sm-p-4{padding:16px!important}.sm-px-1{padding-left:4px!important;padding-right:4px!important}.sm-px-4{padding-left:16px!important;padding-right:16px!important}.sm-px-6{padding-left:24px!important;padding-right:24px!important}.sm-py-8{padding-top:32px!important;padding-bottom:32px!important}.sm-text-2xl{font-size:24px!important}.sm-text-base{font-size:16px!important}.sm-text-sm{font-size:14px!important}.sm-text-xs{font-size:12px!important}}@media (max-width:810px){.ipad-block{display:block!important}.ipad-py-8{padding-top:32px!important;padding-bottom:32px!important}.ipad-text-center{text-align:center!important}}@font-face{font-family:Nunito;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/nunito/v25/XRXV3I6Li01BKofINeaBTMnFcQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Nunito;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/nunito/v25/XRXV3I6Li01BKofINeaBTMnFcQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body style="-webkit-font-smoothing:antialiased;word-break:break-word;margin:0;width:100%;height:100%;background-color:#f8fafc;padding:0"><div role="article" aria-roledescription="email" aria-label lang="en"><table style="width:100%;font-family:Nunito,ui-sans-serif,system-ui,-apple-system,"Segoe UI",sans-serif" cellpadding="0" cellspacing="0" role="presentation"><tr><td align="center" style="background-color:#00acf0;background-image:linear-gradient(to bottom,var(--tw-gradient-stops));--tw-gradient-from:#00ACF0;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);--tw-gradient-to:#008AC0;color:#404040"><table class="sm-w-full" style="width:640px" cellpadding="0" cellspacing="0" role="presentation"><tr><td class="sm-py-8 sm-px-6" style="padding:48px;padding-bottom:32px;text-align:center"><a href="https://www.julo.co.id"><img src="https://www.julo.co.id/sites/default/files/newsletter/ic-logo-julo.png" width="176" alt="JULO" style="border:0;max-width:100%;vertical-align:middle"></a></td></tr><tr><td align="center" class="sm-px-4" style="padding-left:24px;padding-right:24px"><table style="width:100%" cellpadding="0" cellspacing="0" role="presentation"><tr><td class="sm-p-4" style="border-radius:16px;background-color:#fff;padding:32px;font-size:16px;line-height:24px"><table cellspacing="0" cellpadding="0" style="min-width: 536px; width: 100%; margin: 0 auto;"><tr><td style="font-size:16px;"><b>Halo {{ fullname_with_title }},</b><br /><br />{{ body_top_email }}</td></tr><tr><td>{{ body_mid_email }}</td></tr><tr><td>{{ body_footer_email }}</td></tr></table></td></tr><tr role="separator"><td style="height:32px"></td></tr></table><table style="width:100%;max-width:660px" cellpadding="0" cellspacing="0" role="presentation"><tr><td class="ipad-py-8" style="border-width:1px;border-left-width:0;border-right-width:0;border-style:dashed;border-color:#fff;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;color:#fff"><table style="width:100%" cellpadding="0" cellspacing="0" role="presentation"><tr class="sm-hidden" role="separator"><td class="ipad-block" style="height:32px"></td></tr><tr><td class="ipad-text-center sm-hidden" style="white-space:nowrap;font-weight:700;line-height:0"><a href="https://go.onelink.me/app/downloadbutton" class="visited-text-white" style="margin-right:0;padding-right:0;color:#fff;text-decoration-line:none"><span style="vertical-align:middle">Download Aplikasi JULO Gratis!</span><img width="79px" src="https://www.julo.co.id/sites/default/files/newsletter/ic-google-play.png" style="vertical-align:middle" alt=""></a><span style="margin:0;padding:0;color:#fff">Terdaftar dan diawasi oleh</span><img width="39px" src="https://www.julo.co.id/sites/default/files/newsletter/ic-ojk.png" style="margin-left:4px;margin-right:2px;vertical-align:middle" alt=""> <img width="39px" src="https://www.julo.co.id/sites/default/files/newsletter/ic-afpi-logo.png" style="margin-right:2px;vertical-align:middle" alt=""> <img width="39px" src="https://www.julo.co.id/sites/default/files/newsletter/ic-afpi.png" style="vertical-align:middle" alt=""></td><td class="sm-block" style="display:none"><table class="sm-m-auto sm-text-sm" style="width:100%;text-align:center;font-weight:700" cellpadding="0" cellspacing="0" role="presentation"><tr class="sm-m-auto" style="text-align:center"><td class="sm-m-auto" style="text-align:center"><span style="vertical-align:middle">Download Aplikasi JULO Gratis!</span><img width="79px" src="https://www.julo.co.id/sites/default/files/newsletter/ic-google-play.png" style="vertical-align:middle" alt=""></td></tr><tr role="separator"><td style="height:24px"></td></tr><tr><td><span style="margin:0;padding:0;color:#fff">Terdaftar dan diawasi oleh</span><img width="39px" src="https://www.julo.co.id/sites/default/files/newsletter/ic-ojk.png" style="margin-left:4px;margin-right:2px;vertical-align:middle" alt=""> <img width="39px" src="https://www.julo.co.id/sites/default/files/newsletter/ic-afpi-logo.png" style="margin-right:2px;vertical-align:middle" alt=""> <img width="39px" src="https://www.julo.co.id/sites/default/files/newsletter/ic-afpi.png" style="vertical-align:middle" alt=""></td></tr></table></td></tr><tr class="sm-hidden" role="separator"><td class="ipad-block" style="height:32px"></td></tr></table></td></tr></table><table class="sm-w-full" style="width:640px" cellpadding="0" cellspacing="0" role="presentation"><tr role="separator"><td style="height:32px"></td></tr><tr><td class="sm-px-1" style="text-align:center;font-size:12px;font-weight:700;line-height:4px;color:#fff"><p>PT Julo Teknologi Finansial</p><p>88@Kasablanka Tower A Lantai 5. JL. Raya Casablanca</p><p>Kav.88, Jakarta Selatan 12870</p></td></tr><tr role="separator"><td style="height:32px"></td></tr><tr><td class="sm-px-1" style="text-align:center;font-size:14px;color:#fff">Keamananmu adalah prioritas kami. Pelajari tentang <a class="visited-text-white" href="https://www.julo.co.id/privacy-policy" style="color:#fff">kebijakan privasi</a> kami.</td></tr><tr><td class="sm-px-1" style="padding-bottom:48px;text-align:center;font-size:14px;line-height:0;color:#fff"><p><a class="visited-text-white" href="https://www.julo.co.id/cara-bayar" style="color:#fff">Panduan Pembayaran</a> | <a class="visited-text-white" href="https://www.julo.co.id/faq" style="color:#fff">Pusat Bantuan</a> | <span class="sm-hidden">Unsubscribe</span></p><p class="sm-block" style="display:none;line-height:12px">Unsubscribe</p></td></tr></table></td></tr></table></div></body></html>',
        )
    )
    fs.update_safely(parameters=parameters)


class Migration(migrations.Migration):

    dependencies = []

    operations = [
        migrations.RunPython(update_cohort_campaign_feature_settings, migrations.RunPython.noop),
    ]
