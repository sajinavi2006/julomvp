# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2021-10-22 08:33
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.models import FeatureSetting
from juloserver.julo.constants import FeatureNameConst


def add_cashback_param_to_campaign_190(app, schema_editor):
    campaign_190 = FeatureSetting.objects.filter(
        is_active=True,
        feature_name=FeatureNameConst.CAMPAIGN_190_SETTINGS
    ).first()

    if campaign_190 and 'cashback_amount' not in campaign_190.parameters:
        campaign_190.parameters['cashback_amount'] = 10000
        campaign_190.save()


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_cashback_param_to_campaign_190, migrations.RunPython.noop)
    ]
