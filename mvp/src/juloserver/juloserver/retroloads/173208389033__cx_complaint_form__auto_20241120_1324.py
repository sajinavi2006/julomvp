# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-11-20 06:24
from __future__ import unicode_literals

from django.db import migrations, transaction

from juloserver.cx_complaint_form.models import ComplaintSubTopic, ComplaintTopic


def retroload_topic_subtopic(apps, schema_editor):
    with transaction.atomic(using='juloplatform_db'):
        topic = ComplaintTopic.objects.create(
            topic_name="Latest Transaction",
            image_url="complaint-form/topics/pengajuan-dan-pendaftaran.png",
            is_shown=False,
        )

        ComplaintSubTopic.objects.create(
            topic=topic,
            title="Latest Transaction",
            survey_usage="latest-transaction",
            is_require_attachment=True,
            action_type="email",
            action_value="",
            confirmation_dialog_title="Perhatian",
            confirmation_dialog_banner="complaint-form/banners/ubah-nomor-rekening.png",
            confirmation_dialog_content="Kamu akan diarahkan ke aplikasi email kamu. Jika ada, kamu bisa lampirkan dokumen pendukung (contoh: screenshot terkait).",
            confirmation_dialog_info_text=None,
            confirmation_dialog_button_text="Buka Aplikasi Email",
        )


class Migration(migrations.Migration):

    dependencies = []

    operations = [migrations.RunPython(retroload_topic_subtopic, migrations.RunPython.noop)]
