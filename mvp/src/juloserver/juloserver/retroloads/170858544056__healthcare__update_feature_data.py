# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-02-22 07:04
from __future__ import unicode_literals

from django.db import migrations
from juloserver.healthcare.constants import FeatureNameConst
from juloserver.julo.models import FeatureSetting
from juloserver.customer_module.constants import BankAccountCategoryConst
from juloserver.customer_module.models import BankAccountCategory


def add_search_healthcare_platform_in_redis_feature(_apps, _schema_editor):
    FeatureSetting.objects.get_or_create(
        feature_name=FeatureNameConst.SEARCH_HEALTHCARE_PLATFORM_IN_REDIS,
        category='Healthcare',
        defaults={
            'is_active': False,
            'parameters': None,
            'description': 'Search healthcare platform in Redis if enable, else search in database',
        },
    )


def add_allow_add_new_healthcare_platform_feature(_apps, _schema_editor):
    FeatureSetting.objects.get_or_create(
        feature_name=FeatureNameConst.ALLOW_ADD_NEW_HEALTHCARE_PLATFORM,
        category='Healthcare',
        defaults={
            'is_active': False,
            'parameters': None,
            'description': 'Allow user add new healthcare platform (only be visible to that user) '
                           'when register new healthcare user',
        },
    )


def add_bank_account_category_for_healthcare(apps, _schema_editor):
    BankAccountCategory.objects.get_or_create(
        id=9,
        category=BankAccountCategoryConst.HEALTHCARE,
        parent_category_id=9,
        defaults={
            'display_label': BankAccountCategoryConst.HEALTHCARE.title(),
        },
    )


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(
            add_search_healthcare_platform_in_redis_feature, migrations.RunPython.noop
        ),
        migrations.RunPython(
            add_allow_add_new_healthcare_platform_feature, migrations.RunPython.noop
        ),
        migrations.RunPython(
            add_bank_account_category_for_healthcare, migrations.RunPython.noop
        ),
    ]
