# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-03-12 00:41
from __future__ import unicode_literals

from django.db import migrations

from datetime import timedelta, datetime
from juloserver.grab.constants import GrabExperimentConst
from juloserver.julo.models import ExperimentSetting


def add_grab_loan_offer_new_page_experiment_setting(apps, _schema_editor):
    today = datetime.now().date()
    experiment_setting, _ = ExperimentSetting.objects.get_or_create(
        code=GrabExperimentConst.NEW_LOAN_OFFER_PAGE_FEATURE,
        is_active=False,
        start_date=today,
        end_date=today + timedelta(days=7),
        criteria={}
    )


class Migration(migrations.Migration):
    dependencies = [
    ]

    operations = [
        migrations.RunPython(
            add_grab_loan_offer_new_page_experiment_setting, migrations.RunPython.noop
        ),
    ]
