# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2025-01-03 07:36
from __future__ import unicode_literals
from django.db import migrations
from juloserver.julo.models import ExperimentSetting, FeatureSetting
from juloserver.minisquad.constants import ExperimentConst, FeatureNameConst


def adding_group_d_to_experiment_settings_b1_split(apps, schema_editor):
    b1_experiment_setting = (
        ExperimentSetting.objects.filter(
            is_active=True, code=ExperimentConst.B1_SPLIT_GROUP_EXPERIMENT
        )
    ).last()
    if b1_experiment_setting:
        criteria = {
            "groupA": [1, 5, 9, 20, 21, 27, 29],
            "groupB": [2, 8, 10, 14, 16, 19, 22, 25, 31],
            "groupC": [3, 7, 11, 13, 17, 24, 26, 28],
            "groupD": [4, 6, 12, 15, 18, 23, 30],
        }
        b1_experiment_setting.criteria = criteria
        b1_experiment_setting.save()


class Migration(migrations.Migration):

    dependencies = []

    operations = [migrations.RunPython(adding_group_d_to_experiment_settings_b1_split)]
