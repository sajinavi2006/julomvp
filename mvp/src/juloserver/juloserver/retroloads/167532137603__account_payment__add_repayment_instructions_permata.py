# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-02-02 07:02
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.models import GlobalPaymentMethod

from juloserver.account_payment.models import PaymentMethodInstruction


def add_repayment_instructions_permata(apps, schema_editor):
    data_repayment_instructions = [
        {
            'title': 'ATM Permata',
            'content': '<p><strong>Pembayaran Melalui ATM Permata</strong></p><ol>'
                       '<li>Masukkan <strong>PIN</strong></li><li>Pilih menu <strong>'
                       'TRANSAKSI LAINNYA</strong></li><li>Pilih menu <strong>PEMBAYARAN'
                       '</strong></li><li>Pilih menu <strong>PEMBAYARAN LAINNYA</strong>'
                       '</li><li>Pilih menu <strong>VIRTUAL ACCOUNT</strong></li><li>'
                       'Masukkan nomor <strong>VIRTUAL ACCOUNT</strong> yang tertera pada halaman '
                       'Metode Pembayaran, dan tekan <strong>BENAR</strong></li><li>Pilih '
                       'rekening yang menjadi sumber dana yang akan didebet, lalu tekan <strong>YA'
                       '</strong> untuk konfirmasi transaksi</li></ol>'
        },
        {
            'title': 'ATM Prima',
            'content': '<p><strong>Pembayaran Melalui ATM Prima</strong></p><ol><li>'
                       'Masukkan <strong>PIN</strong></li><li>Pilih menu <strong>TRANSAKSI '
                       'LAINNYA</strong></li><li>Pilih menu <strong>KE REK BANK LAIN</strong>'
                       '</li><li>Masukkan kode sandi Bank Permata (013) kemudian tekan '
                       '<strong>BENAR</strong></li><li>Masukkan nomor <strong>VIRTUAL ACCOUNT'
                       '</strong> yang tertera pada halaman Metode Pembayaran dan tekan <strong>'
                       'BENAR</strong></li><li>Masukkan jumlah pembayaran sesuai dengan yang'
                       ' ditagihkan</li><li>Pilih <strong>BENAR</strong> untuk menyetujui '
                       'transaksi tersebut</li></ol>'
        },
        {
            'title': 'ATM Bersama',
            'content': '<p><strong>Pembayaran Melalui ATM Bersama</strong></p><ol>'
                       '<li>Masukkan <strong>PIN</strong></li><li>Pilih menu <strong>'
                       'TRANSAKSI</strong></li><li>Pilih menu <strong>KE REK BANK LAIN'
                       '</strong></li><li>Masukkan kode sandi Bank Permata (013) diikuti '
                       'dengan nomor <strong>VIRTUAL ACCOUNT</strong> yang tertera pada halaman '
                       'Metode Pembayaran dan tekan <strong>BENAR</strong></li><li>Masukkan'
                       ' jumlah pembayaran sesuai dengan yang ditagihkan</li><li>Pilih '
                       '<strong>BENAR</strong> untuk menyetujui transaksi tersebut</li></ol>'
        },
        {
            'title': 'Permata Mobile',
            'content': '<p><strong>Pembayaran Melalui Permata Mobile</strong></p><ol>'
                       '<li>Buka aplikasi PermataMobile Internet (Android/iPhone)</li><li>'
                       'Masukkan User ID &amp; Password</li><li>Pilih Pembayaran Tagihan'
                       '</li><li>Pilih Virtual Account</li><li>Masukkan 16 digit nomor'
                       ' Virtual Account yang tertera pada halaman Metode Pembayaran</li>'
                       '<li>Masukkan nominal pembayaran sesuai dengan yang ditagihkan</li>'
                       '<li>Muncul Konfirmasi Pembayaran</li><li>Masukkan otentikasi '
                       'transaksi/token</li><li>Transaksi selesai</li></ol>'
        },
        {
            'title': 'Permata Net',
            'content': '<p><strong>Pembayaran Melalui Permata Net</strong></p><ol>'
                       '<li>Buka website PermataNet: https://new.permatanet.com</li><li>'
                       'Masukkan user ID &amp; Password</li><li>Pilih Pembayaran Tagihan'
                       '</li><li>Pilih Virtual Account</li><li>Masukkan 16 digit nomor'
                       ' Virtual Account yang tertera pada halaman Metode Pembayaran</li>'
                       '<li>Masukkan nominal pembayaran sesuai dengan yang ditagihkan</li>'
                       '<li>Muncul Konfirmasi Pembayaran</li><li>Masukkan otentikasi '
                       'transaksi/token</li><li>Transaksi selesai</li></ol>'
        },
    ]
    permata_global_payment_method = GlobalPaymentMethod.objects.filter(
        payment_method_name='PERMATA Bank'
    ).last()
    if not permata_global_payment_method:
        return
    payment_method_instructions_list = []
    for repayment_instruction in data_repayment_instructions:
        payment_method_instructions_list.append(
            PaymentMethodInstruction(
                global_payment_method=permata_global_payment_method,
                title=repayment_instruction['title'],
                content=repayment_instruction['content'],
                is_active=True
            )
        )
    PaymentMethodInstruction.objects.bulk_create(payment_method_instructions_list, batch_size=25)


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_repayment_instructions_permata)
    ]
