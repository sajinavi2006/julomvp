# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2019-10-08 06:36
from __future__ import unicode_literals

from django.db import migrations

from django.contrib.auth.models import Group
from juloserver.minisquad.models import CollectionSquad


def add_collection_squad_data(apps, schema_editor):
    collection_bucket_2_group = Group.objects.get(name='collection_bucket_2')
    collection_bucket_3_group = Group.objects.get(name='collection_bucket_3')
    collection_bucket_4_group = Group.objects.get(name='collection_bucket_4')
    squad_names = ['B2.S1', 'B2.S2', 'B3.S1', 'B3.S2', 'B3.S3', 'B4.S1']
    collection_squad_group_dict = {
        'B2.S1': collection_bucket_2_group.id,
        'B2.S2': collection_bucket_2_group.id,
        'B3.S1': collection_bucket_3_group.id,
        'B3.S2': collection_bucket_3_group.id,
        'B3.S3': collection_bucket_3_group.id,
        'B4.S1': collection_bucket_4_group.id
    }
    collection_squad_arr = []

    for squad_name in squad_names:
        data = CollectionSquad(
            squad_name=squad_name,
            group_id=collection_squad_group_dict[squad_name]
        )
        collection_squad_arr.append(data)

    CollectionSquad.objects.bulk_create(collection_squad_arr)


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_collection_squad_data)
    ]
