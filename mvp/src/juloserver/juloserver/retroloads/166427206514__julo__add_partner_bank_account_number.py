# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2021-10-18 04:22
from __future__ import unicode_literals

from django.db import migrations
from django.conf import settings
from juloserver.julo.models import Partner
from juloserver.portal.object.bulk_upload.constants import (MerchantFinancingCSVUploadPartner,
                                                            MerchantFinancingCSVUploadPartnerDueDateType)


def add_partners_bank_account_and_other_details(apps, schema_editor):
    email_bulk_disbursement = 'aulia.deswara@efishery.com,egi.septiar@efishery.com,' \
          'novie.lestari@efishery.com,yayang.pertiwi@efishery.com,' \
          'ray.anjasta@julofinance.com,james.salim@julofinance.com,' \
          'eka.mustika@efishery.com'
    email_190_application = 'kabayan@efishery.com'
    if settings.ENVIRONMENT != 'prod':
        email_bulk_disbursement = 'ivan.sebastian@julofinance.com'
        email_190_application = 'ivan.sebastian@julofinance.com'

    Partner.objects.filter(
        name=MerchantFinancingCSVUploadPartner.EFISHERY
    ).update(partner_bank_account_number='2021313108', is_csv_upload_applicable=True,
             is_disbursement_to_partner_bank_account=True,
             due_date_type=MerchantFinancingCSVUploadPartnerDueDateType.END_OF_TENOR,
             recipients_email_address_for_190_application=email_190_application,
             recipients_email_address_for_bulk_disbursement=email_bulk_disbursement,
             sender_email_address_for_190_application='ops.efishery@julo.co.id',
             sender_email_address_for_bulk_disbursement='ops.efishery@julo.co.id'
             )
    email = 'adi.wismaya@dagangan.com,andre@dagangan.com'

    if settings.ENVIRONMENT != 'prod':
        email = 'ivan.sebastian@julofinance.com'

    Partner.objects.filter(
        name=MerchantFinancingCSVUploadPartner.DAGANGAN
    ).update(partner_bank_account_number='0353354555', is_csv_upload_applicable=True,
             is_disbursement_to_partner_bank_account=True,
             recipients_email_address_for_bulk_disbursement=email,
             recipients_email_address_for_190_application=email,
             sender_email_address_for_190_application='ops.dagangan@julo.co.id',
             sender_email_address_for_bulk_disbursement='ops.dagangan@julo.co.id')
    cc_email = 'kushagr.khera@bukuwarung.com,david.tannoto@bukuwarung.com, ' \
               'almira.yuvita@bukuwarung.com,ops.bw@julo.co.id,' \
               'alpha.satriakusuma@bukuwarung.com,puan.devi@bukuwarung.com,' \
               'tavia.aulia@bukuwarung.com,andreas@julo.co.id'
    if settings.ENVIRONMENT != 'prod':
        cc_email = 'andreas@julo.co.id, ops.bw@julo.co.id'
    Partner.objects.filter(
        name=MerchantFinancingCSVUploadPartner.BUKUWARUNG
    ).update(is_csv_upload_applicable=True,
             is_email_send_to_customer=True,
             due_date_type=MerchantFinancingCSVUploadPartnerDueDateType.MONTHLY,
             sender_email_address_for_190_application='ops.bw@julo.co.id',
             sender_email_address_for_bulk_disbursement='ops.bukuwarung@julo.co.id',
             cc_email_address_for_190_application=cc_email)


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_partners_bank_account_and_other_details, migrations.RunPython.noop),
    ]
