# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-04-03 09:43
from __future__ import unicode_literals

from django.db import migrations
from juloserver.loan.models import SphpContent
from juloserver.julo.models import ProductLine
from juloserver.julo.product_lines import ProductLineCodes


def add_sphp_content(apps, schema_editor):
    product_lines = ProductLine.objects.filter(
        product_line_code__in=[ProductLineCodes.J1, ProductLineCodes.JULO_STARTER]
    )
    data = []
    for product_line in product_lines:
        data = data + [
            SphpContent(
                sphp_variable='loan_type',
                message='pinjaman tarik dana',
                criteria={'transaction_method_id': [1]},
                product_line=product_line
            ),
            SphpContent(
                sphp_variable='loan_type',
                message='pinjaman kirim dana',
                criteria={'transaction_method_id': [2]},
                product_line=product_line
            ),
            SphpContent(
                sphp_variable='loan_type',
                message='pinjaman Pulsa/Paket Data',
                criteria={'transaction_method_id': [3]},
                product_line=product_line
            ),
            SphpContent(
                sphp_variable='loan_type',
                message='pembayaran tagihan pascabayar',
                criteria={'transaction_method_id': [4]},
                product_line=product_line
            ),
            SphpContent(
                sphp_variable='loan_type',
                message='pembelian dompet digital',
                criteria={'transaction_method_id': [5]},
                product_line=product_line
            ),
            SphpContent(
                sphp_variable='loan_type',
                message='pembayaran tagihan listrik',
                criteria={'transaction_method_id': [6]},
                product_line=product_line
            ),
            SphpContent(
                sphp_variable='loan_type',
                message='pembayaran tagihan BPJS kesehatan',
                criteria={'transaction_method_id': [7]},
                product_line=product_line
            ),
            SphpContent(
                sphp_variable='loan_type',
                message='pembayaran E-Commerce',
                criteria={'transaction_method_id': [8]},
                product_line=product_line
            ),
            SphpContent(
                sphp_variable='loan_type',
                message='pembayaran tiket kereta',
                criteria={'transaction_method_id': [11]},
                product_line=product_line
            ),
            SphpContent(
                sphp_variable='loan_type',
                message='pembayaran tagihan PDAM',
                criteria={'transaction_method_id': [12]},
                product_line=product_line
            ),
            SphpContent(
                sphp_variable='loan_type',
                message='pembayaran tagihan biaya edukasi',
                criteria={'transaction_method_id': [13]},
                product_line=product_line
            ),
        ]
    SphpContent.objects.bulk_create(data)

class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_sphp_content, migrations.RunPython.noop),
    ]
