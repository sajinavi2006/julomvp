# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-01-30 06:43
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.models import ExperimentSetting
from juloserver.minisquad.constants import ExperimentConst


def create_final_call_reexperiment_setting(apps, schema_editor):
    experiment  = {
        "code": ExperimentConst.FINAL_CALL_REEXPERIMENT,
        "name": "Final Call ReExperiment",
        "type": "collection",
        "criteria": {
            "experiment_group_name": "experiment",
            "control_group_name": "control",
        },
        "start_date": "2023-02-10 00:00:00+00",
        "end_date": "2023-03-10 00:00:00+00",
        "is_active": False,
        "is_permanent": False
    }
    ExperimentSetting.objects.create(**experiment)


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(
            create_final_call_reexperiment_setting,
            migrations.RunPython.noop
        )
    ]
