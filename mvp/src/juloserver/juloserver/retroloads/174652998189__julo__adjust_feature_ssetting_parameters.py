# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2025-05-06 11:13
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.models import FeatureSetting
from juloserver.partnership.constants import PartnershipFeatureNameConst


def change_leadgen_forgot_pin_fe_url_fs(apps, schema_editor):
    fs = FeatureSetting.objects.get_or_none(
        feature_name=PartnershipFeatureNameConst.LEADGEN_WEB_BASE_URL,
        is_active=True,
    )
    if fs:
        fs.update_safely(
            parameters={
                PartnershipFeatureNameConst.LEADGEN_RESET_PIN_BASE_URL: "https://app-staging1.julo.co.id/{partner_name}/reset-pin?token={token}",
            }
        )


class Migration(migrations.Migration):
    operations = [
        migrations.RunPython(change_leadgen_forgot_pin_fe_url_fs, migrations.RunPython.noop),
    ]
