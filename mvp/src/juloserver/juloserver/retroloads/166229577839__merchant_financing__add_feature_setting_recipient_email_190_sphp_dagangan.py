# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2022-09-04 12:49
from __future__ import unicode_literals

from django.db import migrations
from django.conf import settings
from juloserver.julo.constants import FeatureNameConst
from juloserver.julo.models import FeatureSetting

def add_feature_setting_recipient_email_190_sphp_dagangan(apps, schema_editor):
    email_to = [
        "adi.wismaya@dagangan.com",
        "andre@dagangan.com"
    ]

    if settings.ENVIRONMENT != 'prod':
        email_to = [
            "ivan.sebastian@julofinance.com",
        ]
    FeatureSetting.objects.get_or_create(
        is_active=True,
        feature_name=FeatureNameConst.RECIPIENTS_EMAIL_DAGANGAN_190_APPLICATION,
        category="partner",
        parameters={
            'email_to': email_to
        },
        description="send email to dagangan recipient when application status 190")

    FeatureSetting.objects.get_or_create(
        is_active=False,
        feature_name=FeatureNameConst.RECIPIENTS_EMAIL_DAGANGAN_DISBURSE_BULK,
        category="partner",
        parameters={
            'email_to': email_to
        },
        description="send email to dagangan recipient when disburse bulk upload")

class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_feature_setting_recipient_email_190_sphp_dagangan, migrations.RunPython.noop)
    ]
