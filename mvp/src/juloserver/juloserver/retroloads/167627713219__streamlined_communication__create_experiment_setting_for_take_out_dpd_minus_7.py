# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-02-13 08:32
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.models import ExperimentSetting
from juloserver.streamlined_communication.constant import ExperimentConst


def create_experiment_setting(apps, schema_editor):
    experiment = {
            "code": ExperimentConst.SMS_MINUS_7_TAKE_OUT_EXPERIMENT,
            "name": "sms_-7_take_out_experiment",
            "type": "collection",
            "criteria": {
                "account_id_tail": {
                    "control_group": [5, 6, 7, 8, 9],
                    "experiment_group": [0, 1, 2, 3, 4]
                },
            },
            "start_date": "2023-02-01 00:00:00+00",
            "end_date": "2023-03-01 00:00:00+00",
            "is_active": False,
            "is_permanent": False
    }
    ExperimentSetting.objects.create(**experiment)


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(
            create_experiment_setting,
            migrations.RunPython.noop)
    ]
