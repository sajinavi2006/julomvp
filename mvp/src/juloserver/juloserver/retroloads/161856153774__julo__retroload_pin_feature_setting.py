# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2021-04-16 08:25
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.models import FeatureSetting
from juloserver.julo.constants import FeatureNameConst


def add_max_block_number(apps, schema_editor):
    pin_setting = FeatureSetting.objects.get_or_none(feature_name=FeatureNameConst.PIN_SETTING)
    if pin_setting:
        pin_setting.parameters.pop('max_unlock_number', None)
        pin_setting.parameters['max_block_number'] = 3
        pin_setting.save()


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(
            add_max_block_number, migrations.RunPython.noop)
    ]
