# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-11-06 08:10
from __future__ import unicode_literals

from django.db import migrations

from juloserver.merchant_financing.constants import MFStandardRole
from juloserver.merchant_financing.scripts.create_user_mf_web_app import create_mf_user_agent_role
from juloserver.merchant_financing.scripts.retroload_new_mf_partner import retroload_new_mf_partner
from juloserver.portal.object.bulk_upload.constants import (
    MerchantFinancingCSVUploadPartner,
    MerchantFinancingCSVUploadPartnerDueDateType,
)


def create_new_dummy_mfsp_partner(apps, schema_editor):
    retroload_new_mf_partner(
        MerchantFinancingCSVUploadPartner.DEMO_MFSP_DUMMY_PARTNER,
        default_user_email='partnership@julofinance.com',
        default_ops_email='partnership@julofinance.com',
        app_190_email_recipients='',
        disburse_email_recipients='',
        due_date_type=MerchantFinancingCSVUploadPartnerDueDateType.END_OF_TENOR,
        partner_bank_account_number='',
        partner_bank_account_name='',
        partner_bank_name='',
    )
    create_mf_user_agent_role(
        partner_name=MerchantFinancingCSVUploadPartner.DEMO_MFSP_DUMMY_PARTNER,
        email='partnership@julofinance.com',
        username='demo_partner',
        partner_user_role=MFStandardRole.PARTNER_AGENT,
    )


class Migration(migrations.Migration):

    dependencies = []

    operations = [migrations.RunPython(create_new_dummy_mfsp_partner, migrations.RunPython.noop)]
