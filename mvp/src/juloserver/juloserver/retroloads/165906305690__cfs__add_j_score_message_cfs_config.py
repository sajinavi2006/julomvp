# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2022-07-29 02:50
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.models import FeatureSetting


def add_cfs_jscore_message(apps, schema_editor):
    """
    jscore_message config max_value = 10000 mean limit max value of point
    jscore_message config min_value = -10000 mean limit min value of point
    """
    feature_setting = FeatureSetting.objects.get(feature_name='cfs')
    parameters = feature_setting.parameters
    parameters.update({
        'jscore_messages': [
            {
                'max_value': 100000,
                'min_value': 0,
                'message': 'Selemat! Jscore kamu bertambah. Yuk, pertahankan dan tingkatkan '
                           'lagi skor kredit kamu!',
            },
            {
                'max_value': -1,
                'min_value': -100,
                'message': 'Yuk, tetap bayar tepat waktu untuk pertahankan Jscore kamu',
            },
            {
                'max_value': -101,
                'min_value': -300,
                'message': 'Wah Jscore kamu berpotensi menurun. Tingkatkan transaksi dan '
                           'bayar tepat waktu agar Jscore stabil',
            },
            {
                'max_value': -301,
                'min_value': -100000,
                'message': 'Duh! Jscore kamu menurun, nih. Perbaiki score dengan bertransaksi '
                           'dan jangan telat bayar tagihan.',
            },
        ]
    })
    feature_setting.save(update_fields=['parameters'])


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(
            add_cfs_jscore_message, migrations.RunPython.noop
        ),
    ]
