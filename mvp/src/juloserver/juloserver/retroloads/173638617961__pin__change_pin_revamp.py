# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2025-01-09 01:29
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.constants import MobileFeatureNameConst
from juloserver.julo.models import MobileFeatureSetting

"""
Ubah PIN Revamp

Usage:
  This retroload to add banner pin change instruction, this banner can be configured by mobile feature
  settings in Django Admin
"""

def add_fs_change_pin_instructional_banner(apps, schema_editor):
    is_exist = MobileFeatureSetting.objects.filter(
        feature_name=MobileFeatureNameConst.CHANGE_PIN_INSTRUCTIONAL_BANNER
    ).exists()
    if not is_exist:
        MobileFeatureSetting.objects.create(
            feature_name=MobileFeatureNameConst.CHANGE_PIN_INSTRUCTIONAL_BANNER,
            is_active=True,
            parameters={
                "content": "<li> PIN berisi 6 digit angka <li><li> Jangan gunakan angka pengulangan, berurutan, atau tanggal lahir <li><li> Jangan gunakan angka yang mudah ditebak <li><li> Pastikan kamu mengingat PIN dan merahasiakan dari siapapun <li>"
            },
        )


class Migration(migrations.Migration):

    dependencies = []

    operations = [
        migrations.RunPython(add_fs_change_pin_instructional_banner, migrations.RunPython.noop),
    ]
