# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2022-06-15 10:38
from __future__ import unicode_literals

from django.db import migrations

from juloserver.minisquad.constants import ExperimentConst
from juloserver.julo.models import ExperimentSetting


def create_collection_tailored_experiment_robocall(apps, schema_editor):
    experiment = {
            "code": ExperimentConst.COLLECTION_TAILORED_EXPERIMENT_ROBOCALL,
            "name": "Collection Tailored Experiment Robocall",
            "type": "collection",
            "criteria": {
                "eligible_dpd": [
                    {"dpd": -4, "checking_dpd_at": -5},
                    {"dpd": -2, "checking_dpd_at": -3},
                ],
                "account_id_tail": {
                    "control_group": [0, 2, 4, 6, 8],
                    "experiment_group": [1, 3, 5, 7, 9]
                },
                "sort_method_list": ["elephant", "bull", "scorpion", "hamster"]
            },
            "start_date": "2022-12-26 00:00:00+00",
            "end_date": "2023-01-26 00:00:00+00",
            "is_active": False,
            "is_permanent": False
    }
    ExperimentSetting.objects.create(**experiment)



class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(
            create_collection_tailored_experiment_robocall,
            migrations.RunPython.noop)
    ]
