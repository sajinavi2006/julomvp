# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2022-11-21 10:56
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.constants import ExperimentConst
from juloserver.julo.models import ExperimentSetting


def create_b3_distribution_experiment(apps, schema_editor):
    experiment  = {
        "code": ExperimentConst.B3_DISTRIBUTION_EXPERIMENT,
        "name": "B3 Distribution Experiment",
        "type": "collection",
        "criteria": {
            "account_id_tail_to_inhouse": [0, 1, 2, 3, 4]
        },
        "start_date": "2023-01-10 00:00:00+00",
        "end_date": "2023-01-31 00:00:00+00",
        "is_active": False,
        "is_permanent": False
    }
    ExperimentSetting.objects.create(**experiment)


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(
            create_b3_distribution_experiment,
            migrations.RunPython.noop
        )
    ]
