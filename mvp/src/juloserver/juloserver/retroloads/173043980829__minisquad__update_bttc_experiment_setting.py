# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-11-01 05:43
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.models import ExperimentSetting
from juloserver.minisquad.constants import (
    ExperimentConst,
    BTTCExperiment,
)


def update_bttc_experiment(apps, schema_editor):
    exp_setting = ExperimentSetting.objects.filter(
        code=ExperimentConst.BTTC_EXPERIMENT,
    ).last()
    exp_setting.criteria = {
        'range_experiments': ['a', 'b', 'c', 'd'],
        'bttc_time_to_call': BTTCExperiment.SENDING_TIME,
        'bttc_bucket_numbers': [-5, -3, -1, 0],
        'next_range_map': {'A': 'B', 'B': 'C', 'C': 'D'},
    }
    exp_setting.save()


class Migration(migrations.Migration):

    dependencies = []

    operations = [migrations.RunPython(update_bttc_experiment, migrations.RunPython.noop)]
