# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-12-19 08:34
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.models import FeatureSetting
from juloserver.channeling_loan.constants import (
    FeatureNameConst,
    ChannelingConst,
)


def edit_fama_channeling_loan_config_cutoff(apps, _schema_editor):
    channeling_loan_configuration = FeatureSetting.objects.get_or_none(
        feature_name=FeatureNameConst.CHANNELING_LOAN_CONFIG
    )
    parameters = channeling_loan_configuration.parameters
    if parameters:
        parameters[ChannelingConst.FAMA]['cutoff']['CUTOFF_TIME'] = {
            'hour': 13,
            'minute': 0,
            'second': 0,
        }
        channeling_loan_configuration.parameters = parameters
        channeling_loan_configuration.save()


class Migration(migrations.Migration):

    dependencies = []

    operations = [migrations.RunPython(edit_fama_channeling_loan_config_cutoff)]
