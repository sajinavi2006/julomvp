# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-09-11 12:19
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.models import (
    HelpCenterItem,
    HelpCenterSection
)




def create_help_center_sections(apps, schema_editor):
    bulk_create_section = [
        HelpCenterSection(title="Lupa PIN", visible=True, slug="lupa-pin"),
        HelpCenterSection(title="Ubah Nomor HP", visible=True, slug="ubah-nomor-hp"),
        HelpCenterSection(title="Ubah PIN", visible=True, slug="ubah-pin"),
    ]
    HelpCenterSection.objects.bulk_create(bulk_create_section)

def create_help_center_items(apps, schema_editor):
    bulk_create_items = []
    lupa_pin = HelpCenterSection.objects.filter(title="Lupa PIN").last()
    ubah_nomor_hp = HelpCenterSection.objects.filter(title="Ubah Nomor HP").last()
    ubah_pin = HelpCenterSection.objects.filter(title="Ubah PIN").last()

    if lupa_pin:
        bulk_create_items.append(
            HelpCenterItem(
                description="<p><strong>Jika kamu lupa PIN, silakan ikuti langkah berikut:</strong></p><ol><li>Buka aplikasi \
                JULO</li><li>Klik tombol &ldquo;Masuk&rdquo;</li><li>Masukkan email/NIK/No. HP yang terdaftar pada aplikasi \
                    JULO</li><li>Klik tombol &ldquo;Lupa PIN&rdquo;</li><li>Masukkan kode OTP yang dikirimkan melalui SMS</li>\
                        <li>Periksa emailmu (khususnya bagian spam) dan promosi) dan klik tautan yang telah dikirimkan untuk \
                            melakukan perubahan PIN akun JULO</li><li>Buat PIN terbaru berupa 6 digit angka</li><li>Kembali ke \
                                aplikasi JULO dan masuk/login dengan PIN terbaru</li></ol><p>Jika masih mengalami kendala, silakan \
                                    informasikan kembali melalui email ke<strong> cs@julo.co.id</strong><br />Semoga berhasil</p>",
                visible=True,
                show_phone_number=False,
                section=lupa_pin
            )
        )
    
    if ubah_pin:
        bulk_create_items.append(
            HelpCenterItem(
                description="<p><strong>Jika ingin mengubah PIN, kamu bisa ikuti cara berikut</strong> \
                    </p><ol><li>Setelah berhasil masuk ke aplikasi JULO, klik menu &ldquo;Akun&rdquo;</li> \
                        <li>Klik &ldquo;Pusat Bantuan&rdquo;</li><li>Klik tombol &ldquo;Ubah PIN&rdquo;</li> \
                            <li>Masukkan PIN saat ini</li><li>Masukkan PIN baru dan konfirmasi kembali PIN baru kamu</li> \
                                <li>Selesai, PIN berhasil diubah.</li></ol><p>Jika masih mengalami kendala, silakan informasikan \
                                    kembali melalui email ke <strong>cs@julo.co.id</strong>&nbsp;<br />Semoga berhasil</p>", 
                visible=True,
                show_phone_number=False,
                section=ubah_pin
            )
            )
        
    if ubah_nomor_hp:
        bulk_create_items.append(
            HelpCenterItem(
                description="<p><strong>Jika ingin mengubah nomor HP lama kamu dengan nomor baru dan masih \
                      memiliki akses ke nomor lama, silakan ikuti cara berikut ini:</strong></p><ol><li>Silakan \
                          masuk ke akun JULO kamu</li><li>Pilih menu &ldquo;Akun&rdquo;</li><li>Klik pada bagian \
                              nama atau ikon foto profil</li><li>Pilih tombol &ldquo;Ubah&rdquo; pada sisi kanan \
                                nomor HP</li><li>Masukkan kode OTP yang dikirimkan melalui SMS ke nomor HP lama kamu \
                                </li><li>Input PIN aplikasi JULO</li><li>Masukkan nomor HP terbaru dan klik tombol \
                                    &ldquo;Lanjutkan&rdquo;</li><li>Masukkan kode OTP yang dikirimkan melalui SMS ke \
                                        nomor HP terbaru kamu</li><li>Perubahan nomor HP telah selesai</li></ol>",
                question="Dengan Akses ke Nomor Lama",
                visible=True,
                show_phone_number=False,
                section=ubah_nomor_hp
            )
        )

        bulk_create_items.append(
            HelpCenterItem(
                description="<p><strong>Jika kamu ingin mengubah nomor HP lama kamu dengan nomor baru dan sudah \
                    tak bisa akses nomor lama kamu atau ada kendala lainnya, silakan hubungi Customer Service JULO \
                        di:</strong></p>",
                question="Tanpa Akses ke Nomor Lama",
                alert_message="Jadwal operasional: Senin-Minggu pukul 08.00-20.00 WIB",
                visible=True,
                show_phone_number=True,
                section=ubah_nomor_hp
            )
        )
    HelpCenterItem.objects.bulk_create(bulk_create_items)
class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(create_help_center_sections, migrations.RunPython.noop),
        migrations.RunPython(create_help_center_items, migrations.RunPython.noop)
    ]
