# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2025-04-11 08:45
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.models import FeatureSetting
from juloserver.loan.constants import LoanFeatureNameConst
from juloserver.loan.services.feature_settings import AvailableLimitInfoSetting


def add_fs_available_limit_info(apps, schema_editor):
    params = {
        "displayed_sections": [
            AvailableLimitInfoSetting.SECTION_AVAILABLE_CASHLOAN_LIMIT,
            AvailableLimitInfoSetting.SECTION_NORMAL_AVAILABLE_LIMIT,
        ],
        "sections": {
            AvailableLimitInfoSetting.SECTION_AVAILABLE_CASHLOAN_LIMIT: {
                "title": "Jumlah Pinjaman Tarik Dana",
                "icon": AvailableLimitInfoSetting.MONEY_BAG_ICON,
                "items": [
                    {
                        "icon": AvailableLimitInfoSetting.EXCLAMATION_ICON,
                        "text": (
                            "Ini adalah jumlah maksimum untuk tarik dana "
                            "karena riwayat pembayaranmu di JULO dan/atau aplikasi lain kurang baik"
                        ),
                    },
                    {
                        "icon": AvailableLimitInfoSetting.SPARKLES_ICON,
                        "text": (
                            "Untuk dapat gunakan limitmu sepenuhnya di tarik dana, "
                            "pastikan kamu selalu bayar tagihan di JULO "
                            "dan/atau aplikasi lain tepat waktu, ya!"
                        ),
                    },
                ],
            },
            AvailableLimitInfoSetting.SECTION_NORMAL_AVAILABLE_LIMIT: {
                "title": "Jumlah Pinjaman Total Di JULO",
                "icon": AvailableLimitInfoSetting.WEB_PERKS_ICON,
                "items": [
                    {
                        "icon": "",
                        "text": (
                            "Tapi, jika untuk beli pulsa dan token, "
                            "bayar tagihan listrik, air, dan produk non tunai lainnya, "
                            "kamu bisa transaksi sepenuhnya!"
                        ),
                    },
                ],
            },
        },
    }

    FeatureSetting.objects.update_or_create(
        feature_name=LoanFeatureNameConst.AVAILABLE_LIMIT_INFO,
        defaults={
            "is_active": True,
            "category": "loan",
            'description': 'Configs for available limit info page',
            "parameters": params,
        },
    )


class Migration(migrations.Migration):

    dependencies = []

    operations = [
        migrations.RunPython(
            code=add_fs_available_limit_info,
            reverse_code=migrations.RunPython.noop,
        )
    ]
