# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-07-14 07:04
from __future__ import unicode_literals
from django.db import migrations
from juloserver.followthemoney.constants import LoanAgreementType
from django.conf import settings
from juloserver.followthemoney.models import LoanAgreementTemplate


def create_julover_sphp_default_template(apps, _schema_editor):
    template_dir = '/juloserver/julovers/templates/julovers/julovers_sphp.html'
    with open(settings.BASE_DIR + template_dir, "r") as file:
        html = file.read()

    LoanAgreementTemplate.objects.create(
        agreement_type=LoanAgreementType.JULOVERS_SPHP,
        body=html,
        is_active=True
    )


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(create_julover_sphp_default_template, migrations.RunPython.noop)
    ]
