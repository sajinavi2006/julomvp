# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-01-05 08:42
from __future__ import unicode_literals

from django.db import migrations

from juloserver.cootek.constants import CootekProductLineCodeName
from juloserver.cootek.models import (
    CootekRobot,
    CootekConfiguration,
)
from juloserver.julo.models import Partner


def add_cootek_configuration_for_dana(apps, schema_editor):
    robot_M0_L2_ID_BA_Nin_Julo_DANA_DM2, _ = CootekRobot.objects.get_or_create(
        robot_identifier='f73ab4ea18a58cfd73ba91684c95c1ba',
        robot_name='M0_L2_ID_BA_Nin_Julo_DANA_DM2',
    )
    robot_M0_L4_ID_BA_Nin_Julo_DANA_DM2, _ = CootekRobot.objects.get_or_create(
        robot_identifier='c9affc3384f81747627901bbc9d848e8',
        robot_name='M0_L4_ID_BA_Nin_Julo_DANA_DM2',
    )
    robot = {
        'f73ab4ea18a58cfd73ba91684c95c1ba': robot_M0_L2_ID_BA_Nin_Julo_DANA_DM2,
        'c9affc3384f81747627901bbc9d848e8': robot_M0_L4_ID_BA_Nin_Julo_DANA_DM2,
    }

    partner = Partner.objects.filter(name='dana').last()
    cootek_configs = [
        {
            'strategy_name': 'DANA_T0', 'task_type': 'DANA_T0',
            'time_to_start': '08:00:00', 'time_to_query_result': '09:10:00', 'time_to_prepare': '07:50:00',
            'robot': 'c9affc3384f81747627901bbc9d848e8', 'repeat_number': 3, 'called_at': 0,
            'intention_filter': ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', '--'],
            'from_previous_cootek_result': False, 'dpd_condition': 'Exactly',
            'product': CootekProductLineCodeName.DANA,
            'partner': partner,

        },
        {
            'strategy_name': 'DANA_T0', 'task_type': 'DANA_T0',
            'time_to_start': '10:00:00', 'time_to_query_result': '11:10:00', 'time_to_prepare': '09:50:00',
            'robot': 'c9affc3384f81747627901bbc9d848e8', 'repeat_number': 3, 'called_at': 0,
            'intention_filter': ['B', 'D', 'E', 'F', 'G', 'H', 'I'], 'from_previous_cootek_result': True,
            'dpd_condition': 'Exactly', 'product': CootekProductLineCodeName.DANA,
            'partner': partner,
        },
        {
            'strategy_name': 'DANA_T-1', 'task_type': 'DANA_T-1',
            'robot': 'f73ab4ea18a58cfd73ba91684c95c1ba', 'repeat_number': 3, 'called_at': -1,
            'intention_filter': ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', '--'],
            'from_previous_cootek_result': False, 'time_to_start': '08:00:00',
            'time_to_query_result': '09:10:00', 'time_to_prepare': '07:50:00',
            'dpd_condition': 'Exactly', 'product': CootekProductLineCodeName.DANA,
            'partner': partner,
        },
        {
            'strategy_name': 'DANA_T-1', 'task_type': 'DANA_T-1',
            'robot': 'f73ab4ea18a58cfd73ba91684c95c1ba', 'repeat_number': 3, 'called_at': -1,
            'intention_filter': ['B', 'D', 'F', 'G'], 'from_previous_cootek_result': True,
            'time_to_start': '10:00:00', 'time_to_query_result': '11:10:00', 'time_to_prepare': '09:50:00',
            'dpd_condition': 'Exactly',
            'product': CootekProductLineCodeName.DANA,
            'partner': partner,
        },
        {
            'strategy_name': 'DANA_T-1', 'task_type': 'DANA_T-1',
            'robot': 'f73ab4ea18a58cfd73ba91684c95c1ba', 'repeat_number': 3, 'called_at': -1,
            'intention_filter': ['B', 'D', 'F', 'G'], 'from_previous_cootek_result': True,
            'time_to_start': '12:00:00', 'time_to_query_result': '13:10:00',
            'time_to_prepare': '11:50:00', 'dpd_condition': 'Exactly', 'product': CootekProductLineCodeName.DANA,
            'partner': partner,
        },
        {
            'strategy_name': 'DANA_T-1', 'task_type': 'DANA_T-1',
            'robot': 'f73ab4ea18a58cfd73ba91684c95c1ba', 'repeat_number': 2, 'called_at': -1,
            'intention_filter': ['E', 'H', 'I'], 'from_previous_cootek_result': True,
            'time_to_start': '14:00:00', 'time_to_query_result': '15:10:00',
            'time_to_prepare': '13:50:00', 'dpd_condition': 'Exactly',
            'product': CootekProductLineCodeName.DANA,
            'partner': partner,
        },
        {
            'strategy_name': 'DANA_T-2', 'task_type': 'DANA_T-2',
            'robot': 'f73ab4ea18a58cfd73ba91684c95c1ba', 'repeat_number': 3, 'called_at': -2,
            'intention_filter': ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', '--'],
            'from_previous_cootek_result': False,
            'time_to_start': '08:00:00', 'time_to_query_result': '09:10:00',
            'time_to_prepare': '07:50:00',
            'dpd_condition': 'Exactly', 'product': CootekProductLineCodeName.DANA,
            'partner': partner,
        },
        {
            'strategy_name': 'DANA_T-2', 'task_type': 'DANA_T-2',
            'robot': 'f73ab4ea18a58cfd73ba91684c95c1ba', 'repeat_number': 3, 'called_at': -2,
            'intention_filter': ['B', 'D', 'F', 'G'], 'from_previous_cootek_result': True,
            'time_to_start': '10:00:00', 'time_to_query_result': '11:10:00',
            'time_to_prepare': '09:50:00',
            'dpd_condition': 'Exactly',
            'product': CootekProductLineCodeName.DANA,
            'partner': partner,
        },
        {
            'strategy_name': 'DANA_T-2', 'task_type': 'DANA_T-2',
            'robot': 'f73ab4ea18a58cfd73ba91684c95c1ba', 'repeat_number': 3, 'called_at': -2,
            'intention_filter': ['B', 'D', 'F', 'G'], 'from_previous_cootek_result': True,
            'time_to_start': '12:00:00', 'time_to_query_result': '13:10:00',
            'time_to_prepare': '11:50:00', 'dpd_condition': 'Exactly',
            'product': CootekProductLineCodeName.DANA,
            'partner': partner,
        },
        {
            'strategy_name': 'DANA_T-2', 'task_type': 'DANA_T-2',
            'robot': 'f73ab4ea18a58cfd73ba91684c95c1ba', 'repeat_number': 2, 'called_at': -2,
            'intention_filter': ['E', 'H', 'I'], 'from_previous_cootek_result': True,
            'time_to_start': '14:00:00', 'time_to_query_result': '15:10:00',
            'time_to_prepare': '13:50:00', 'dpd_condition': 'Exactly',
            'product': CootekProductLineCodeName.DANA,
            'partner': partner,
        },
    ]

    for config in cootek_configs:
        CootekConfiguration.objects.create(
            time_to_start=config['time_to_start'],
            time_to_query_result=config['time_to_query_result'],
            time_to_prepare=config['time_to_prepare'],
            dpd_condition=config['dpd_condition'],
            product=config['product'],
            partner=config['partner'],
            strategy_name=config['strategy_name'],
            task_type=config['task_type'],
            called_at=config['called_at'],
            number_of_attempts=config['repeat_number'],
            tag_status=config['intention_filter'],
            from_previous_cootek_result=config['from_previous_cootek_result'],
            cootek_robot=robot[config['robot']],
        )


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_cootek_configuration_for_dana, migrations.RunPython.noop)
    ]
