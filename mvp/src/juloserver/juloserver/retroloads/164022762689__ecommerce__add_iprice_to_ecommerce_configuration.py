# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2021-12-23 02:47
from __future__ import unicode_literals
from django.conf import settings

from django.db import migrations

from juloserver.ecommerce.models import EcommerceConfiguration
from juloserver.ecommerce.constants import CategoryType, EcommerceConstant

def add_iprice_to_ecommerce_configuration(apps, _schema_editor):
    iprice_config, created = EcommerceConfiguration.objects.get_or_create(
        ecommerce_name=EcommerceConstant.IPRICE,
    )

    base_url = settings.ECOMMERCE_LOGO_STATIC_FILE_PATH

    updated_info = {
        'selection_logo': f"{base_url}iprice/iprice_selection_logo.png",
        'background_logo': f"{base_url}iprice/iprice_background_logo.png",
        'text_logo': f"{base_url}iprice/iprice_text_logo.png",
        'url': "https://julo-id.iprice.mx/",
        'color_scheme': '#00ACF0',
        'order_number': 1,
        'category_type': CategoryType.MARKET,
    }

    iprice_config.update_safely(**updated_info)


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_iprice_to_ecommerce_configuration, migrations.RunPython.noop),
    ]
