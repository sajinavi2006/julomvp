# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-04-04 07:48
from __future__ import unicode_literals

from django.db import migrations
from juloserver.streamlined_communication.constant import SmsTspVendorConstants
from juloserver.streamlined_communication.models import (
    TelcoServiceProvider,
    SmsTspVendorConfig
)


def add_telco_service_provider(*args):
    TelcoServiceProvider.objects.get_or_create(
        provider_name=SmsTspVendorConstants.TELKOMSEL,
        telco_code=['0811', '0812', '0813', '0821', '0822', '0823', '0851', '0852', '0853']
    )
    TelcoServiceProvider.objects.get_or_create(
        provider_name=SmsTspVendorConstants.AXIS,
        telco_code=['0831', '0832', '0838']
    )
    TelcoServiceProvider.objects.get_or_create(
        provider_name=SmsTspVendorConstants.HUTCHISON_TRI,
        telco_code=['0895', '0895', '0896', '0897', '0898', '0899']
    )
    TelcoServiceProvider.objects.get_or_create(
        provider_name=SmsTspVendorConstants.INDOSAT_OOREDO,
        telco_code=['0814', '0815', '0816', '0855', '0856', '0857', '0858']
    )
    TelcoServiceProvider.objects.get_or_create(
        provider_name=SmsTspVendorConstants.SMARTFREN,
        telco_code=['0881', '0882', '0887', '0888', '0889']
    )
    TelcoServiceProvider.objects.get_or_create(
        provider_name=SmsTspVendorConstants.XL,
        telco_code=['0817', '0818', '0819', '0859', '0877', '0878']
    )


def add_default_tsp_config(*args):
    SmsTspVendorConfig.objects.create(
        tsp=SmsTspVendorConstants.OTHERS,
        primary=SmsTspVendorConstants.MONTY,
        backup=SmsTspVendorConstants.NEXMO,
        is_otp=False
    )


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_telco_service_provider, migrations.RunPython.noop),
        migrations.RunPython(add_default_tsp_config, migrations.RunPython.noop),
    ]

