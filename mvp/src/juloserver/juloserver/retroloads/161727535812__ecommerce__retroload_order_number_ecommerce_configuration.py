# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2021-04-01 11:09
from __future__ import unicode_literals

from django.db import migrations

from juloserver.ecommerce.models import EcommerceConfiguration


def update_order_number_ecommerce_configuration(app, schema_editor):
    data_ecommerce_configurations = [
        {
            'ecommerce_name': 'Shopee',
            'order_number': 1
        },
        {
            'ecommerce_name': 'Blibli',
            'order_number': 2
        },
        {
            'ecommerce_name': 'Bukalapak',
            'order_number': 3
        },
        {
            'ecommerce_name': 'Lazada',
            'order_number': 4
        },
        {
            'ecommerce_name': 'Tokopedia',
            'order_number': 5
        },
    ]
    for data_ecommerce_configuration in data_ecommerce_configurations:
        ecommerce_configuration = EcommerceConfiguration.objects.filter(
            ecommerce_name__iexact=data_ecommerce_configuration['ecommerce_name']
        ).last()
        if ecommerce_configuration:
            ecommerce_configuration.update_safely(
                order_number=data_ecommerce_configuration['order_number']
            )


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(update_order_number_ecommerce_configuration, migrations.RunPython.noop),
    ]
