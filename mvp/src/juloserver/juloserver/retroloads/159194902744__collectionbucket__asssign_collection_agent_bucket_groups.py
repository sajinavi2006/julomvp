# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2019-07-25 08:09
from __future__ import unicode_literals

from django.db import migrations
from django.contrib.auth.models import Group, User


def asssign_collection_bucket_groups(apps, schema_editor):
    groups = [
        'collection_bucket_1',
        'collection_bucket_2',
        'collection_bucket_3',
        'collection_bucket_4',
        'collection_bucket_5'
    ]

    username_dict = {
        'collection_bucket_1': ['Nurmila', 'Rizky', 'Suprimanda', 'Sutri', 'Desy', 'Henny', 'Ratih', 'angga',
            'ziyah02', 'ria02', 'tutut', 'siska'
        ],
        'collection_bucket_2': ['siska', 'destia', 'maul', 'riza.imelda', 'rifani', 'Amelia02', 'ronaldo', 
            'ulfa.indriani', 'akhda', 'alvina', 'Alya.rahma', 'Andre.alfredo', 'Kartika.tanaya', 'simcollection1',
            'simcollection2', 'simcollection3', 'simcollection4', 'simcollection5', 'simcollection6', 'simcollection7',
            'simcollection8', 'simcollection9', 'simcollection10', 'simcollection11', 'simcollection12', 'simcollection13',
            'simcollection14', 'simcollection15', 'telmarkjogja1', 'telmarkjogja2', 'telmarkjogja3', 'telmarkjogja4',
            'telmarkjogja5'
        ],
        'collection_bucket_3': ['Ardhea-nuryani', 'Bunga', 'diah.tri', 'Fajar.M.akbar', 'Kanty-rubiyanti', 
            'Rahayu', 'wawan', 'witri', 'Shifa03', 'ahmad.b', 'Nur-septi', 'Nurwahyu'
        ],
        'collection_bucket_4': ['Fajar04', 'Dani04', 'agent4', 'asiacollect4', 'mbacollection4'],
        'collection_bucket_5': ['Agent5', 'asiacollect5', 'mbacollection5', 'selaras5', 'Colmatra']
    }

    for group in groups:
        collection_group = Group.objects.get(name=group)
        collection_users = User.objects.filter(username__in=username_dict[group])

        for user in collection_users:
            user.groups.add(collection_group)


class Migration(migrations.Migration):
    dependencies = [
    ]

    operations = [
        migrations.RunPython(asssign_collection_bucket_groups)
    ]
