# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2017-09-17 13:32
from __future__ import unicode_literals

from django.db import migrations


from juloserver.julo.models import Application



def retroload_additional_application_checklist(apps, schema_editor):
    
    applications = Application.objects.filter(application_status__lt=180)
    for application in applications:
        additiona_fields = [
            "nama_hrd", "alamat_kantor_penempatan",
            "bidang_usaha", "jumlah_karyawan", "posisi_karyawan",
            "status_kepegawaian", "tunggakan_di_kantor", "mutasi"
        ]
        ApplicationCheckList =apps.get_model("julo", "ApplicationCheckList")

        for field in additiona_fields:
            application_checklist = ApplicationCheckList.objects.create(
                application=application, field_name=field)


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
#        migrations.RunPython(retroload_additional_application_checklist, migrations.RunPython.noop)
    ]
