# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2020-09-30 10:20
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.models import GlobalPaymentMethod


def update_insert_payment_method_view(apps, schema_editor):
    payment_method_views = [
        {
            'feature_name': 'BCA',
            'is_active': True,
            'is_priority': False,
            'impacted_type': 'Primary and Backup'
        },
        {
            'feature_name': 'Permata',
            'is_active': True,
            'is_priority': False,
            'impacted_type': 'Primary and Backup'
        },
        {
            'feature_name': 'BRI',
            'is_active': True,
            'is_priority': False,
            'impacted_type': 'Primary and Backup'
        },
        {
            'feature_name': 'Maybank',
            'is_active': True,
            'is_priority': False,
            'impacted_type': 'Primary and Backup'
        },
        {
            'feature_name': 'Gopay',
            'is_active': True,
            'is_priority': False,
            'impacted_type': None
        },
        {
            'feature_name': 'Alfamart',
            'is_active': True,
            'is_priority': False,
            'impacted_type': None
        },
        {
            'feature_name': 'Indomaret',
            'is_active': True,
            'is_priority': False,
            'impacted_type': None
        },
    ]

    for payment_method_view in payment_method_views:
        payment_method = GlobalPaymentMethod.objects.get(
            feature_name=payment_method_view['feature_name'])
        payment_method.update_safely(
            is_active=payment_method_view['is_active'],
            is_priority=payment_method_view['is_priority'],
            impacted_type=payment_method_view['impacted_type'],
        )


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(update_insert_payment_method_view, migrations.RunPython.noop)
    ]
