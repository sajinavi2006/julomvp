# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2021-09-30 09:27
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.models import FeatureSetting


def add_liveness_detection_feature_setting(apps, schema_editor):
    FeatureSetting.objects.create(
        feature_name='liveness_detection',
        is_active=False,
        parameters={
            'active_liveness': {
                'min_face_ratio': 0.05,
                'max_face_ratio': 0.5,
                'min_valid_segment_count': 4,
                'score_threshold': 0.92,
                'timeout_retry': 3,
                'retry': 2,
                'timeout': 10,
                'is_active': True,
                'application_eyes_detection_retry': 2,
                'application_face_detection_retry': 2,
                'application_face_detection_counter': 10,
                'skip_application_failed': True
            },
            'passive_liveness': {
                'min_face_ratio': 0.05,
                'max_face_ratio': 0.5,
                'template': True,
                'crop_image': True,
                'facial_features': True,
                'icao_attributes': True,
                'face_attributes': True,
                'crop_image_with_removed_background': False,
                'score_threshold': -150.0,
                'timeout_retry': 3,
                'timeout': 10,
                'is_active': True,
            }
        },
    )


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_liveness_detection_feature_setting, migrations.RunPython.noop)
    ]
