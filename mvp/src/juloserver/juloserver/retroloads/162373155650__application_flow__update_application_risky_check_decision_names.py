# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2021-04-26 07:17

from django.db import migrations
from juloserver.application_flow.models import ApplicationRiskyDecision
from juloserver.application_flow.constants import ApplicationRiskyDecisions

def update_risky_decision_name(apps, schema_editor):
    decisions = ApplicationRiskyDecision.objects.all()
    new_names = {
        'NO HSFBP': ApplicationRiskyDecisions.NO_DV_BYPASS,
        'NO SONIC': ApplicationRiskyDecisions.NO_PVE_BYPASS,
        'NO HSFBP AND NO SONIC': ApplicationRiskyDecisions.NO_DV_BYPASS_AND_NO_PVE_BYPASS
    }
    for decision in decisions:
        if decision.decision_name in new_names.keys():
            decision.decision_name = new_names[decision.decision_name]
            decision.save()


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
         migrations.RunPython(
            update_risky_decision_name, migrations.RunPython.noop),
    ]
