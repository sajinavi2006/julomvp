# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2021-06-03 08:02
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.models import FeatureSetting
from juloserver.julo.constants import FeatureNameConst


def add_tenure_extension_rule(apps, _schema_editor):
    featuresetting = FeatureSetting.objects.get(
        is_active=True, feature_name=FeatureNameConst.COVID_REFINANCING, category="loan_refinancing"
    )

    featuresetting.parameters['tenure_extension_rule'].update(
        {"J1_2": 2, "J1_3": 2, "J1_4": 2, "J1_5": 3, "J1_6": 3}
    )
    featuresetting.save()


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_tenure_extension_rule, migrations.RunPython.noop)
    ]
