# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-11-08 01:42
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.constants import FeatureNameConst
from juloserver.julo.models import FeatureSetting

def add_campagain_zero_interest_content(apps, _schema_editor):
    feature_setting = FeatureSetting.objects.filter(
        feature_name=FeatureNameConst.ZERO_INTEREST_HIGHER_PROVISION).last()
    if not feature_setting:
        return

    params = feature_setting.parameters
    params["campaign_content"] = {
        "alert_image": "https://statics.julo.co.id/zero_interest/zero_percent_interest_icon.png",
        "alert_description": "Nikmati <b>bunga 0%</b> untuk semua transaksi <b>maks. Rp3.000.000 dengan jangka waktu <b>1-3 bulan!<b/>",
        "show_alert": True,
        "show_pop_up": True,
        "toggle_title": "Manfaatkan bunga 0%, yuk",
        "toggle_description": "Penawaran untukmu yang ingin transaksi maks. Rp 3 juta selama 1-3 bulan!",
        "toggle_link_text": "Pelajari lebih lanjut!",
        "toggle_click_link": "https://www.julo.co.id",
    }
    feature_setting.parameters = params
    feature_setting.save()


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(
            add_campagain_zero_interest_content,
            migrations.RunPython.noop
        ),
    ]
