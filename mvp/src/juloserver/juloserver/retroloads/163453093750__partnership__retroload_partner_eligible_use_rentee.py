# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2021-10-18 04:22
from __future__ import unicode_literals

from django.db import migrations
from juloserver.julo.models import FeatureSetting, Partner
from juloserver.julo.constants import FeatureNameConst


def add_partner_eligible_use_rentee(apps, schema_editor):
    partner_ids = Partner.objects.filter(
        name__in=['cermati', '99usahaku', 'olx', 'cekaja']
    ).values_list("id", flat=True)
    FeatureSetting.objects.get_or_create(is_active=True,
                                         feature_name=FeatureNameConst.PARTNER_ELIGIBLE_USE_RENTEE,
                                         parameters={
                                             'partner_ids': list(partner_ids),
                                         },
                                         category='partner',
                                         description="list of partner id eligible to use rentee"
                                         )


class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(add_partner_eligible_use_rentee, migrations.RunPython.noop),
    ]
