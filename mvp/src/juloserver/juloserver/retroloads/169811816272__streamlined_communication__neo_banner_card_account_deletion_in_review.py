# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2023-10-24 03:29
from __future__ import unicode_literals

from django.db import migrations

from juloserver.julo.models import Image
from juloserver.streamlined_communication.models import NeoBannerCard


def create_image(image_source_id, image_type, image_url):
    image = Image()
    image.image_source = image_source_id
    image.image_type = image_type
    image.url = image_url
    image.save()

def retroload_neobanner_j1(_apps, _schema_editor):
    data = {
            'statuses': '[460]',
            'product': 'J1',
            'template_card': 'B_BUTTON',
            'top_image': 'neo-banner/account_deletion_in_review.png',
            'top_title': 'Permintaan hapus akun sedang dalam proses verifikasi JULO',
            'top_message': 'Saat ini kamu tidak dapat menggunakan fitur JULO. Jika ingin menggunakan semua fitur, kamu bisa ajukan pembatalan hapus akun.',
            'button_text': 'Batalkan Hapus Akun',
            'button_action': 'cancel_account_deletion',
    }

    neo_banner_card = NeoBannerCard.objects.create(**data)
    create_image(neo_banner_card.id, 'NEO_BANNER_TOP_BACKGROUND_IMAGE', data['top_image'])

class Migration(migrations.Migration):

    dependencies = [
    ]

    operations = [
        migrations.RunPython(retroload_neobanner_j1, migrations.RunPython.noop)
    ]
