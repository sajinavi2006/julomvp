# -*- coding: utf-8 -*-
# Generated by Django 1.9.5 on 2024-08-06 04:33
from __future__ import unicode_literals

from django.db import migrations
from django.utils import timezone

from juloserver.julo.constants import ExperimentConst
from juloserver.julo.models import ExperimentSetting


def executed(apps, schema_editor):
    exists = ExperimentSetting.objects.filter(
        code=ExperimentConst.SYNC_REGISTRATION_J360_SERVICES
    ).exists()
    if not exists:
        ExperimentSetting.objects.create(
            code=ExperimentConst.SYNC_REGISTRATION_J360_SERVICES,
            name='Sync Registration J360 Services',
            start_date=timezone.localtime(timezone.now()),
            end_date=timezone.localtime(timezone.now()),
            criteria={},
            type="application",
            is_active=False,
            is_permanent=False,
        )


class Migration(migrations.Migration):

    dependencies = []

    operations = [
        migrations.RunPython(executed, migrations.RunPython.noop),
    ]
